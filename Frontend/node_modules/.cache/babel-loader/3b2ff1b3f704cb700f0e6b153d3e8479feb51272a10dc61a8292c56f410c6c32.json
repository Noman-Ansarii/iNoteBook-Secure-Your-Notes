{"ast":null,"code":"import React,{useContext,useEffect,useRef,useState}from'react';import{useNavigate}from'react-router-dom';import noteContext from\"../context/notes/noteContext\";import NoteItems from'./NoteItems';import AddNote from'./AddNote';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Notes=props=>{const context=useContext(noteContext);const navigate=useNavigate();const{notes,getNotes,editNote}=context;useEffect(()=>{if(localStorage.getItem('token')){getNotes();}else{navigate(\"/login\");}// eslint-disable-next-line\n},[]);const updateNote=currentNote=>{ref.current.click();setNote({id:currentNote._id,eTitle:currentNote.Title,eDescription:currentNote.Description,eTag:currentNote.Tag});};const ref=useRef(null);const refcLOSE=useRef(null);const[note,setNote]=useState({id:\"\",eTitle:\"\",eDescription:\"\",eTag:\"\"});const handleClick=e=>{editNote(note.id,note.eTitle,note.eDescription,note.eTag);refcLOSE.current.click();props.showAlert(\":  Updated Notes Successfully\",\"success\");};const onChange=e=>{setNote({...note,[e.target.name]:e.target.value});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(AddNote,{showAlert:props.showAlert}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary d-none\",ref:ref,\"data-bs-toggle\":\"modal\",\"data-bs-target\":\"#exampleModal\",children:\"Launch demo modal\"}),/*#__PURE__*/_jsx(\"div\",{className:\"modal fade\",id:\"exampleModal\",tabIndex:\"-1\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\",children:/*#__PURE__*/_jsx(\"div\",{className:\"modal-dialog\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"modal-title fs-5\",id:\"exampleModalLabel\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Edit Note Information\"})}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn-close\",\"data-bs-dismiss\":\"modal\",\"aria-label\":\"Close\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-body\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eTitle\",className:\"form-label\",children:\"Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"eTitle\",name:\"eTitle\",\"aria-describedby\":\"emailHelp\",required:true,minLength:3,value:note.eTitle,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eTag\",className:\"form-label\",children:\"Tag\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"eTag\",name:\"eTag\",\"aria-describedby\":\"emailHelp\",required:true,maxLength:15,value:note.eTag,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"eDescription\",className:\"form-label\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"eDescription\",name:\"eDescription\",rows:\"5\",required:true,minLength:5,value:note.eDescription,onChange:onChange})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-footer\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",ref:refcLOSE,className:\"btn btn-secondary\",\"data-bs-dismiss\":\"modal\",children:\"Close\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleClick,className:\"btn btn-dark\",children:\"Save Update Note\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row my-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Notes\"}),/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:Array.isArray(notes)&&notes.length===0?'No Notes to Display.':null}),Array.isArray(notes)&&notes.map(note=>/*#__PURE__*/_jsx(NoteItems,{showAlert:props.showAlert,updateNote:updateNote,note:note},note._id))]})]});};export default Notes;","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","useNavigate","noteContext","NoteItems","AddNote","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Notes","props","context","navigate","notes","getNotes","editNote","localStorage","getItem","updateNote","currentNote","ref","current","click","setNote","id","_id","eTitle","Title","eDescription","Description","eTag","Tag","refcLOSE","note","handleClick","e","showAlert","onChange","target","name","value","children","type","className","tabIndex","htmlFor","required","minLength","maxLength","rows","onClick","Array","isArray","length","map"],"sources":["C:/Web Developement/Front-end/Projects/iNotebook-Real-main/Frontend/src/components/Notes.js"],"sourcesContent":["import React, { useContext, useEffect, useRef, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport noteContext from \"../context/notes/noteContext\";\r\nimport NoteItems from './NoteItems';\r\nimport AddNote from './AddNote';\r\n\r\nconst Notes = (props) => {\r\n    const context = useContext(noteContext);\r\n    const navigate = useNavigate();\r\n    const { notes, getNotes, editNote } = context;\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem('token')) {\r\n            getNotes();\r\n        } else {\r\n            navigate(\"/login\");\r\n        }\r\n        // eslint-disable-next-line\r\n    }, []);\r\n\r\n    const updateNote = (currentNote) => {\r\n        ref.current.click();\r\n        setNote({ id: currentNote._id, eTitle: currentNote.Title, eDescription: currentNote.Description, eTag: currentNote.Tag });\r\n    }\r\n\r\n    const ref = useRef(null);\r\n    const refcLOSE = useRef(null);\r\n    const [note, setNote] = useState({ id: \"\", eTitle: \"\", eDescription: \"\", eTag: \"\" });\r\n\r\n    const handleClick = (e) => {\r\n        editNote(note.id, note.eTitle, note.eDescription, note.eTag);\r\n        refcLOSE.current.click();\r\n        props.showAlert(\":  Updated Notes Successfully\", \"success\");\r\n    }\r\n\r\n    const onChange = (e) => {\r\n        setNote({ ...note, [e.target.name]: e.target.value });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <AddNote showAlert={props.showAlert} />\r\n            <button type=\"button\" className=\"btn btn-primary d-none\" ref={ref} data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\r\n                Launch demo modal\r\n            </button>\r\n\r\n            <div className=\"modal fade\" id=\"exampleModal\" tabIndex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\">\r\n                    <div className=\"modal-content\">\r\n                        <div className=\"modal-header\">\r\n                            <h1 className=\"modal-title fs-5\" id=\"exampleModalLabel\"><b>Edit Note Information</b></h1>\r\n                            <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                        </div>\r\n                        <div className=\"modal-body\">\r\n                            <form>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"eTitle\" className=\"form-label\">Title</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"eTitle\" name=\"eTitle\" aria-describedby=\"emailHelp\" required minLength={3} value={note.eTitle} onChange={onChange} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"eTag\" className=\"form-label\">Tag</label>\r\n                                    <input type=\"text\" className=\"form-control\" id=\"eTag\" name=\"eTag\" aria-describedby=\"emailHelp\" required maxLength={15} value={note.eTag} onChange={onChange} />\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <label htmlFor=\"eDescription\" className=\"form-label\">Description</label>\r\n                                    <textarea className=\"form-control\" id=\"eDescription\" name=\"eDescription\" rows=\"5\" required minLength={5} value={note.eDescription} onChange={onChange}></textarea>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                        <div className=\"modal-footer\">\r\n                            <button type=\"button\" ref={refcLOSE} className=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Close</button>\r\n                            <button type=\"button\" onClick={handleClick} className=\"btn btn-dark\">Save Update Note</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row my-3\">\r\n                <h2>Your Notes</h2>\r\n                <div className=\"container\">\r\n                    {Array.isArray(notes) && notes.length === 0 ? 'No Notes to Display.' : null}\r\n                </div>\r\n                {Array.isArray(notes) && notes.map((note) => (\r\n                    <NoteItems key={note._id} showAlert={props.showAlert} updateNote={updateNote} note={note} />\r\n                ))}\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Notes;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}