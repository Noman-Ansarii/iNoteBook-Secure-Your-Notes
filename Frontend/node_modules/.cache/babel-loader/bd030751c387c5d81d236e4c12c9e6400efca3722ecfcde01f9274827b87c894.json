{"ast":null,"code":"import NoteContext from'./noteContext';import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";const NoteState=props=>{const host=\"http://localhost:8000\";const notesInitial=[];const[notes,setNotes]=useState(notesInitial);//Get all Notes\nconst getNotes=async(Title,Description,Tag)=>{//API Call\nconst response=await fetch(\"\".concat(host,\"/api/notes/fetchallnotes\"),{method:\"GET\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')}});const json=await response.json();setNotes(json);};//Add a Note\nconst addNote=async(Title,Description,Tag)=>{//API Call\nconst response=await fetch(\"\".concat(host,\"/api/notes/addnote\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({Title,Description,Tag})});const note=await response.json();setNotes(notes.concat(note));};//Delete a Note\nconst deleteNote=async id=>{//API Call\nconst response=await fetch(\"\".concat(host,\"/api/notes/deletenote/\").concat(id),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')}});const json=response.json();console.log(json);const newNotes=notes.filter(note=>{return note._id!==id;});setNotes(newNotes);};//Edit a Note\nconst editNote=async(id,Title,Description,Tag)=>{//API Call\nconst response=await fetch(\"\".concat(host,\"/api/notes/updatenote/\").concat(id),{method:\"PUT\",headers:{\"Content-Type\":\"application/json\",\"auth-token\":localStorage.getItem('token')},body:JSON.stringify({Title,Description,Tag})// body data type must match \"Content-Type\" header\n});const json=await response.json();console.log(json);let newNotes=JSON.parse(JSON.stringify(notes));//Logic to Edit in Client\nfor(let index=0;index<notes.length;index++){const element=notes[index];if(element._id===id){newNotes[index].Title=Title;newNotes[index].Description=Description;newNotes[index].Tag=Tag;break;}}setNotes(newNotes);};return/*#__PURE__*/_jsx(NoteContext.Provider,{value:{notes,addNote,deleteNote,editNote,getNotes},children:props.children});};export default NoteState;","map":{"version":3,"names":["NoteContext","useState","jsx","_jsx","NoteState","props","host","notesInitial","notes","setNotes","getNotes","Title","Description","Tag","response","fetch","concat","method","headers","localStorage","getItem","json","addNote","body","JSON","stringify","note","deleteNote","id","console","log","newNotes","filter","_id","editNote","parse","index","length","element","Provider","value","children"],"sources":["C:/Web Developement/Front-end/Projects/iNotebook-Real-main/Frontend/src/context/notes/NoteState.js"],"sourcesContent":["import NoteContext from './noteContext';\r\nimport { useState } from \"react\";\r\n\r\nconst NoteState = (props) => {\r\n  const host = \"http://localhost:8000\"\r\n  const notesInitial = []\r\n\r\n  const [notes, setNotes] = useState(notesInitial)\r\n\r\n  //Get all Notes\r\n  const getNotes = async (Title, Description, Tag) => {\r\n    //API Call\r\n    const response = await fetch(`${host}/api/notes/fetchallnotes`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem('token')\r\n      },\r\n    });\r\n    const json = await response.json()\r\n    setNotes(json)\r\n  }\r\n\r\n  //Add a Note\r\n  const addNote = async (Title, Description, Tag) => {\r\n    //API Call\r\n    const response = await fetch(`${host}/api/notes/addnote`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem('token')\r\n      },\r\n      body: JSON.stringify({ Title, Description, Tag }),\r\n    });\r\n    const note = await response.json();\r\n    setNotes(notes.concat(note))\r\n  }\r\n  //Delete a Note\r\n  const deleteNote = async (id) => {\r\n    //API Call\r\n    const response = await fetch(`${host}/api/notes/deletenote/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem('token')\r\n      },\r\n    });\r\n    const json = response.json();\r\n    console.log(json)\r\n\r\n    const newNotes = notes.filter((note) => { return note._id !== id })\r\n    setNotes(newNotes);\r\n\r\n\r\n  }\r\n  //Edit a Note\r\n  const editNote = async (id, Title, Description, Tag) => {\r\n    //API Call\r\n    const response = await fetch(`${host}/api/notes/updatenote/${id}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"auth-token\": localStorage.getItem('token')\r\n      },\r\n      body: JSON.stringify({ Title, Description, Tag }), // body data type must match \"Content-Type\" header\r\n    });\r\n    const json = await response.json();\r\n    console.log(json)\r\n\r\n    let newNotes = JSON.parse(JSON.stringify(notes))\r\n    //Logic to Edit in Client\r\n    for (let index = 0; index < notes.length; index++) {\r\n      const element = notes[index];\r\n      if (element._id === id) {\r\n        newNotes[index].Title = Title;\r\n        newNotes[index].Description = Description;\r\n        newNotes[index].Tag = Tag;\r\n        break;\r\n      }\r\n    }\r\n    setNotes(newNotes)\r\n  }\r\n\r\n  return (\r\n    <NoteContext.Provider value={{ notes, addNote, deleteNote, editNote, getNotes }}>\r\n      {props.children}\r\n    </NoteContext.Provider>\r\n  )\r\n}\r\n\r\nexport default NoteState;"],"mappings":"AAAA,MAAO,CAAAA,WAAW,KAAM,eAAe,CACvC,OAASC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEjC,KAAM,CAAAC,SAAS,CAAIC,KAAK,EAAK,CAC3B,KAAM,CAAAC,IAAI,CAAG,uBAAuB,CACpC,KAAM,CAAAC,YAAY,CAAG,EAAE,CAEvB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGR,QAAQ,CAACM,YAAY,CAAC,CAEhD;AACA,KAAM,CAAAG,QAAQ,CAAG,KAAAA,CAAOC,KAAK,CAAEC,WAAW,CAAEC,GAAG,GAAK,CAClD;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIV,IAAI,6BAA4B,CAC9DW,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCZ,QAAQ,CAACY,IAAI,CAAC,CAChB,CAAC,CAED;AACA,KAAM,CAAAC,OAAO,CAAG,KAAAA,CAAOX,KAAK,CAAEC,WAAW,CAAEC,GAAG,GAAK,CACjD;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIV,IAAI,uBAAsB,CACxDW,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CAAC,CACDG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,KAAK,CAAEC,WAAW,CAAEC,GAAI,CAAC,CAClD,CAAC,CAAC,CACF,KAAM,CAAAa,IAAI,CAAG,KAAM,CAAAZ,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCZ,QAAQ,CAACD,KAAK,CAACQ,MAAM,CAACU,IAAI,CAAC,CAAC,CAC9B,CAAC,CACD;AACA,KAAM,CAAAC,UAAU,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC/B;AACA,KAAM,CAAAd,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIV,IAAI,2BAAAU,MAAA,CAAyBY,EAAE,EAAI,CACjEX,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CACF,CAAC,CAAC,CACF,KAAM,CAAAC,IAAI,CAAGP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAC5BQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CAEjB,KAAM,CAAAU,QAAQ,CAAGvB,KAAK,CAACwB,MAAM,CAAEN,IAAI,EAAK,CAAE,MAAO,CAAAA,IAAI,CAACO,GAAG,GAAKL,EAAE,CAAC,CAAC,CAAC,CACnEnB,QAAQ,CAACsB,QAAQ,CAAC,CAGpB,CAAC,CACD;AACA,KAAM,CAAAG,QAAQ,CAAG,KAAAA,CAAON,EAAE,CAAEjB,KAAK,CAAEC,WAAW,CAAEC,GAAG,GAAK,CACtD;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAC,MAAA,CAAIV,IAAI,2BAAAU,MAAA,CAAyBY,EAAE,EAAI,CACjEX,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,YAAY,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAC5C,CAAC,CACDG,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,KAAK,CAAEC,WAAW,CAAEC,GAAI,CAAC,CAAG;AACrD,CAAC,CAAC,CACF,KAAM,CAAAQ,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAClCQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC,CAEjB,GAAI,CAAAU,QAAQ,CAAGP,IAAI,CAACW,KAAK,CAACX,IAAI,CAACC,SAAS,CAACjB,KAAK,CAAC,CAAC,CAChD;AACA,IAAK,GAAI,CAAA4B,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAG5B,KAAK,CAAC6B,MAAM,CAAED,KAAK,EAAE,CAAE,CACjD,KAAM,CAAAE,OAAO,CAAG9B,KAAK,CAAC4B,KAAK,CAAC,CAC5B,GAAIE,OAAO,CAACL,GAAG,GAAKL,EAAE,CAAE,CACtBG,QAAQ,CAACK,KAAK,CAAC,CAACzB,KAAK,CAAGA,KAAK,CAC7BoB,QAAQ,CAACK,KAAK,CAAC,CAACxB,WAAW,CAAGA,WAAW,CACzCmB,QAAQ,CAACK,KAAK,CAAC,CAACvB,GAAG,CAAGA,GAAG,CACzB,MACF,CACF,CACAJ,QAAQ,CAACsB,QAAQ,CAAC,CACpB,CAAC,CAED,mBACE5B,IAAA,CAACH,WAAW,CAACuC,QAAQ,EAACC,KAAK,CAAE,CAAEhC,KAAK,CAAEc,OAAO,CAAEK,UAAU,CAAEO,QAAQ,CAAExB,QAAS,CAAE,CAAA+B,QAAA,CAC7EpC,KAAK,CAACoC,QAAQ,CACK,CAAC,CAE3B,CAAC,CAED,cAAe,CAAArC,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}